---
title: 数据模型设计范式
date: 2018-06-18 15:57:37
categories: 数据库
tags: 
    - 数据模型
---

先讲一个知识：外键一定要建索引。

##### 第一范式

数据表中的任何一个字段都是不可拆分的。不要把多个信息存储在同一个字段之中。

##### 第二范式

请先确定数据表中的决定与被决定关系。比如：医院编号决定了医院名称、类型、地址等。因为知道了编号已经可以唯一确定这些信息了。通过第二范式我们可以拆分出不包含冗余信息的表。

第二范式（2NF）要求实体的属性完全依赖于主关键字。所谓完全依赖是指不能存在仅依赖主关键字一部分的属性，如果存在，那么这个属性和主关键字的这一部分应该分离出来形成一个新的实体，新实体与原实体之间是一对多的关系。为实现区分通常需要为表加上一个列，以存储各个实例的惟一标识。简而言之，第二范式就是属性完全依赖于主键。

如果数据表的设计不符合第二范式，一方面会造成数据冗余，另一方面会让数据的更新造成麻烦，因为我们必须同时更新多个地方才可以确保所有包含同一个信息的数据同步。

##### 第三范式

属性不依赖于其它非主属性[消除传递依赖]。

满足第三范式（3NF）必须先满足第二范式（2NF）。简而言之，第三范式（3NF）要求一个数据库表中不包含已在其它表中已包含的非主关键字信息。例如，存在一个部门信息表，其中每个部门有部门编号（dept_id）、部门名称、部门简介等信息。那么在的员工信息表中列出部门编号后就不能再将部门名称、部门简介等与部门有关的信息再加入员工信息表中。如果不存在部门信息表，则根据第三范式（3NF）也应该构建它，否则就会有大量的数据冗余。简而言之，第三范式就是属性不依赖于其它非主属性。

>**【注意】**不可以因为贪图方便在表中故意放冗余字段
>
>比如：明知道部门表中已经有了部门名称的字段，但是，为了避免在用户表中联表才可以查询出部门名称，就把部门名称写到了用户表中。这样做好像不需要联表查询了，单表就可以查询出部门名称，但会造成其他问题。

