---
title: 逻辑回归与决策树在分类上的一些区别
date: 2018-06-26 23:06:24
categories: 人工智能
tags: 
    - 逻辑回归
    - 决策树
---

营销预测模型的目标变量很多为一种状态或类型，如客户“买”还是“不买”、客户选择上网方式为 “宽带”还是“拨号”、营销战通道是邮件、电话、还是网络。我们把这类问题统称为 “分类”。决策树和逻辑回归都是解决“分类”问题的高手。用不同的算法解答同样的问题，自然引出了两者孰优孰劣的讨论，但迄今为止，仍然没有一个明确的结论。出现这种情况是意料之中的，因为两者的具体表现取决于数据状况和挖掘人员的水平。从算法本身看，决策树和回归各有优势，因此最好的应用不是两者择一，而是相互取舍，利用一方的长处弥补另一方的不足。

在进一步讨论之前，让我们来看一下逻辑回归和决策树的主要差别。

有些分歧是表面的，例如决策树可以对付缺失值，而逻辑回归需要挖掘人员预先对缺失数据进行处理。但实际上决策树同样要对缺失值做出某种假设和处理。例如CART在遇到一个变量中有缺失情况时，是用次级变量进行替换切分。这种做法在逻辑回归中也可以办到，但需要单独的编程。而在决策树中，这一步已经嵌入软件的算法引擎。

从实质上看，决策树和逻辑回归的分歧是：

1. 逻辑回归对数据整体结构的分析优于决策树，而决策树对局部结构的分析优于逻辑回归。
2. 逻辑回归擅长分析线性关系，而决策树对线性关系的把握较差。虽然对付非线性关系是决策树的强项，但是很多非线性关系完全可以用线性关系作为近似，而且效果很好。线性关系在实践中有很多优点：简洁，易理解，可以在一定程度上防止对数据的过度拟合。
3. 逻辑回归对极值比较敏感，容易受极端值的影响，而决策树在这方面表现较好。

两者的差别主要来自算法逻辑。决策树由于采用分割的方法，所以能够深入数据细部，但同时失去了对全局的把握。一个分层一旦形成，它和别的层面或节点的关系就被切断了，以后的挖掘只能在局部中进行。同时由于切分，样本数量不断萎缩，所以无法支持对多变量的同时检验。而逻辑回归，始终着眼整个数据的拟合，所以对全局把握较好。但无法兼顾局部数据，或者说缺乏探查局部结构的内在机制。

除外，逻辑回归和决策树还有一些应用上的区别。决策树的结果和逻辑回归相比略显粗糙。逻辑回归原则上可以提供数据中每个观察点的概率，而决策树只能把挖掘对象分为有限的概率组群。比如决策树确定17个节点，全部人口就只能有17个概率，在应用上受到一定限制。就操作来说，决策树比较容易上手，需要的数据预处理较少，而逻辑回归则要求一定的训练和技巧。

对于两者间互补或增强，主要思路是利用决策树对局部数据结构优越的把握能力增加逻辑回归的效力。在具体做法上有几种，一种是从决策树分析中找出数据局部结构，作为在逻辑回归中构建依变量（interaction)的依据。另一种是在需要对预测因子进行离散化处理时，利用决策树分析决定最佳切分点。还有一种是把决策树分类的最终结果作为预测变量，和其他协变量一起代入回归模型，又称为“嫁接式模型”。从理论上讲，嫁接模型综合了决策树和逻辑回归的优点。最终节点包含了数据中重要的局部结构，而协变量可以拾补被决策树遗漏的数据整体结构。

嫁接模型是一个很巧妙的设计，但是在实践中并没有得到普遍的认同。由于决策树已经对数据进行了最大限度的拟合，所以留给协变量的余地很小。换句话说，把决策树的最终节点作为预测因子，就可能找不出还有独立作用的协变量。而没有协变量，逻辑回归实际只是决策树的重复。再有，由于节点是多个属性的综合，不易解释。每个节点到底代表什么不明确，由此限制了这种方法的推广。